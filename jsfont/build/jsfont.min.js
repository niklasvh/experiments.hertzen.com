(function(){var a={ArrayBuffer:typeof ArrayBuffer!=="undefined",DataView:typeof DataView!=="undefined"&&"getFloat64"in DataView.prototype},c=function(b,d,c,e){this._buffer=b;if(!(a.ArrayBuffer&&b instanceof ArrayBuffer)&&typeof b!=="string")throw new TypeError("Type error");this._isArrayBuffer=a.ArrayBuffer&&b instanceof ArrayBuffer;this._isDataView=a.DataView&&this._isArrayBuffer;this._littleEndian=e===void 0?!0:e;e=this._isArrayBuffer?b.byteLength:b.length;d==void 0&&(d=0);c==void 0&&(c=e-d);if(!this._isDataView){if(typeof d!==
"number")throw new TypeError("Type error");if(typeof c!=="number")throw new TypeError("Type error");if(typeof d<0)throw Error("INDEX_SIZE_ERR: DOM Exception 1");if(typeof c<0)throw Error("INDEX_SIZE_ERR: DOM Exception 1");}if(this._isDataView)this._view=new DataView(b,d,c),this._start=0;this._start=d;if(this._end>=e)throw Error("INDEX_SIZE_ERR: DOM Exception 1");this._offset=0;this.length=c};c.createBuffer=function(){if(typeof ArrayBuffer!=="undefined"){for(var b=new ArrayBuffer(arguments.length),
d=new Int8Array(b),a=0;a<arguments.length;++a)d[a]=arguments[a];return b}return String.fromCharCode.apply(null,arguments)};c.prototype={getString:function(b,d){var a;if(d===void 0)d=this._offset;if(typeof d!=="number")throw new TypeError("Type error");if(b<0||d+b>this.length)throw Error("INDEX_SIZE_ERR: DOM Exception 1");if(this._isArrayBuffer){a=new Int8Array(this._buffer,this._start+d,b);for(var c=[],e=0;e<b;++e)c[e]=a[e];a=String.fromCharCode.apply(null,c)}else a=this._buffer.substr(this._start+
d,b);this._offset=d+b;return a},getChar:function(b){var d;if(b===void 0)b=this._offset;if(this._isArrayBuffer)d=String.fromCharCode(this.getUint8(b));else{if(typeof b!=="number")throw new TypeError("Type error");if(b+1>this.length)throw Error("INDEX_SIZE_ERR: DOM Exception 1");d=this._buffer.charAt(this._start+b);this._offset=b+1}return d},tell:function(){return this._offset},seek:function(b){if(typeof b!=="number")throw new TypeError("Type error");if(b<0||b>this.length)throw Error("INDEX_SIZE_ERR: DOM Exception 1");
this._offset=b},skip:function(b){this._offset+=b},_endianness:function(b,d,a,c){return b+(c?a-d-1:d)},_getFloat64:function(b,d){var a=this._getUint8(this._endianness(b,0,8,d)),c=this._getUint8(this._endianness(b,1,8,d)),e=this._getUint8(this._endianness(b,2,8,d)),f=this._getUint8(this._endianness(b,3,8,d)),g=this._getUint8(this._endianness(b,4,8,d)),j=this._getUint8(this._endianness(b,5,8,d)),l=this._getUint8(this._endianness(b,6,8,d)),o=this._getUint8(this._endianness(b,7,8,d)),n=1-2*(a>>7),a=((a<<
1&255)<<3|c>>4)-(Math.pow(2,10)-1),c=(c&15)*Math.pow(2,48)+e*Math.pow(2,40)+f*Math.pow(2,32)+g*Math.pow(2,24)+j*Math.pow(2,16)+l*Math.pow(2,8)+o;return c==0&&a==-(Math.pow(2,10)-1)?0:a==-1023?n*c*Math.pow(2,-1074):n*(1+c*Math.pow(2,-52))*Math.pow(2,a)},_getFloat32:function(b,d){var a=this._getUint8(this._endianness(b,0,4,d)),c=this._getUint8(this._endianness(b,1,4,d)),e=this._getUint8(this._endianness(b,2,4,d)),f=this._getUint8(this._endianness(b,3,4,d)),g=1-2*(a>>7),a=(a<<1&255|c>>7)-127,c=(c&127)<<
16|e<<8|f;return c==0&&a==-127?0:a==-127?g*c*Math.pow(2,-149):g*(1+c*Math.pow(2,-23))*Math.pow(2,a)},_getInt32:function(b,d){var a=this._getUint32(b,d);return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},_getUint32:function(b,d){var a=this._getUint8(this._endianness(b,0,4,d)),c=this._getUint8(this._endianness(b,1,4,d)),e=this._getUint8(this._endianness(b,2,4,d)),f=this._getUint8(this._endianness(b,3,4,d));return a*Math.pow(2,24)+(c<<16)+(e<<8)+f},_getInt16:function(b){b=this._getUint16(b);return b>Math.pow(2,
15)-1?b-Math.pow(2,16):b},_getUint16:function(b,d){var a=this._getUint8(this._endianness(b,0,2,d)),c=this._getUint8(this._endianness(b,1,2,d));return(a<<8)+c},_getInt8:function(b){b=this._getUint8(b);return b>Math.pow(2,7)-1?b-Math.pow(2,8):b},_getUint8:function(b){return this._isArrayBuffer?(new Uint8Array(this._buffer,this._start+b,1))[0]:this._buffer.charCodeAt(this._start+b)&255}};var e={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8},f;for(f in e)(function(b){var d=e[b];
c.prototype["get"+b]=function(a,c){var e;if(c==void 0)c=this._littleEndian;if(a===void 0)a=this._offset;if(this._isDataView)e=this._view["get"+b](a,c);else if(this._isArrayBuffer&&a%d==0&&(d==1||c))e=(new window[b+"Array"](this._buffer,a,1))[0];else{if(typeof a!=="number")throw new TypeError("Type error");if(a+d>this.length)throw Error("INDEX_SIZE_ERR: DOM Exception 1");e=this["_get"+b](this._start+a,c)}this._offset=a+d;return e}})(f);window.jDataView=c})();
var JSFONT=function(a,c){a&&this.loadFont(a,c)};JSFONT.prototype.loadFont=function(a,c){var e=new XMLHttpRequest;e.open("GET",a,!0);e.overrideMimeType("text/plain; charset=x-user-defined");var f=this;e.onload=function(){f.binary=this.response;var b=new JSFONT.Reader(this.response);JSFONT.TTCHeader.call(f,b);typeof c=="function"&&c.call(f)};e.send()};
JSFONT.prototype.compile=function(){var a=Object.keys(this.tables).length,c=12+Object.keys(this.tables).length*16,e;for(e in this.tables)this.tables.hasOwnProperty(e)&&(c+=this.tables[e]._len);var c=new JSFONT.Writer(330768),f=this.tables,b=["DSIG","FFTM","GDEF","GSUB","JSTF","LTSH","OS/2","PCLT","VDMX","cmap","cvt ","fpgm","gasp","glyf","hdmx","head","hhea","hmtx","kern","loca","maxp","name","post","prep"];c.writeItem("Fixed",this.version);c.writeItem("USHORT",a);c.writeItem("USHORT",this.searchRange);
c.writeItem("USHORT",this.entrySelector);c.writeItem("USHORT",this.rangeShift);for(var d=0,a=b.length;d<a;d++)f[b[d]]!==void 0&&(c.writeString(b[d]),c.writeItem("ULONG",f[b[d]].checksum),c.writeItem("ULONG",f[b[d]]._offset),c.writeItem("ULONG",f[b[d]]._len));for(e in f)if(this.tables.hasOwnProperty(e))if(a=this.tables[e],c.seek(a._offset),c._offset=a._offset,c.writeStructure(a._structure,a),e==="glyf"){d=this.tables.glyf._offset;b=0;for(a=f.glyf.glyphs.length;b<a;b++)c.seek(this.tables.loca.data.offsets[b]+
d),c.writeStructure(f.glyf.glyphs[b]._structure,f.glyf.glyphs[b])}else if(e==="name"){a=f.name._offset+f.name.data.stringOffset;for(b=0;b<f.name.data.count;b++)c.seek(a+f.name.data.nameRecord[b].offset),c.writeString(f.name.content[b])}return c};
JSFONT.TTCHeader=function(a){this.version=a.readFloat32();var c=a.readUInt16();this.searchRange=a.readUInt16();this.entrySelector=a.readUInt16();this.rangeShift=a.readUInt16();a.getPosition();var e=["head",JSFONT.headTable,"OS/2",JSFONT.OS2Table,"name",JSFONT.nameTable,"cmap",JSFONT.cmapTable,"maxp",JSFONT.maxpTable,"loca",JSFONT.locaTable,"post",JSFONT.postTable,"hhea",JSFONT.hheaTable,"hmtx",JSFONT.hmtxTable,"hdmx",JSFONT.hdmxTable,"kern",JSFONT.kernTable,"glyf",JSFONT.glyfTable,"DSIG",JSFONT.DSIGTable,
"FFTM",JSFONT.FFTMTable,"GDEF",JSFONT.GDEFTable,"cvt ",JSFONT.cvtTable,"fpgm",JSFONT.fpgmTable,"gasp",JSFONT.gaspTable,"prep",JSFONT.prepTable],f={},b={},d={};this.tables={};for(var i=0;i<c;i++){a.seek(12+i*16);var k=a.readString(4);b[k]=a.readUInt32();var m=a.readUInt32();f[k]=m;d[k]=a.readUInt32();e.indexOf(k)}c=0;for(i=e.length;c<i;c+=2)if(k=e[c],f[k]!==void 0)m=new e[c+1](this),m.readData(a,f[k]),m.checksum=b[k],m._len=d[k],this.tables[k]=m;this.tables.name.content=[];for(e=0;e<this.tables.name.data.count;e++)a.seek(this.tables.name._offset+
this.tables.name.data.stringOffset+this.tables.name.data.nameRecord[e].offset),this.tables.name.content[e]=a.readString(this.tables.name.data.nameRecord[e].len);this.tables.glyf.glyphs=[];f=this.tables.glyf._offset;e=0;for(b=this.tables.loca.data.offsets.length;e<b;e++)this.tables.glyf.glyphs[e]=new JSFONT.Glyph,this.tables.loca.data.offsets[e+1]!==this.tables.loca.data.offsets[e]&&(a.jDataView.seek(this.tables.loca.data.offsets[e]+this.tables.glyf._offset),this.tables.glyf.glyphs[e].readData(a,this.tables.loca.data.offsets[e]+
this.tables.glyf._offset),f+=this.tables.glyf.glyphs[e]._len)};JSFONT.Reader=function(a){this.jDataView=new window.jDataView(a);this._pos=0;this.data=a;return this};
JSFONT.Reader.prototype={getPosition:function(){return this.jDataView.tell()},readInt8:function(){return this._decodeInt(8,!0)},readUInt8:function(){return this._decodeInt(8,!1)},readInt16:function(){return this._decodeInt(16,!0)},readUInt16:function(){return this._decodeInt(16,!1)},readInt32:function(){return this._decodeInt(32,!0)},readUInt32:function(){return this._decodeInt(32,!1)},readUInt64:function(){return this._decodeInt(64,!1)},readString:function(a){return this.jDataView.getString(a,this.jDataView.tell())},
readFloat32:function(){return this.jDataView.getUint16(this.jDataView.tell(),!1)+"."+this.jDataView.getUint16(this.jDataView.tell(),!1)},skip:function(a){this.jDataView.skip(a)},seek:function(a){this.jDataView.seek(a)},_decodeInt:function(a,c){var e=c?"getInt"+a:"getUint"+a;return a>8?this.jDataView[e](void 0,!1):this.jDataView[e](void 0)}};JSFONT.RenderGlyph=function(a){for(var c=0,e=0,f=0;f<a.data.xCoordinates.length;f++)c+=a.data.xCoordinates[f],e+=a.data.yCoordinates[f]};
JSFONT.Table=function(){this._hex=[];this._structure={};this._readItem=function(a,c){switch(a){case "PASCAL":for(var e=c.readInt8(),f="",b=0;b<e;b++)f+=String.fromCharCode(c.readInt8());return f;case "Fixed":return c.readFloat32();case "CHAR":return c.readInt8();case "BYTE":return c.readUInt8();case "USHORT":return c.readUInt16();case "FWORD":return c.readInt16();case "UFWORD":return c.readUInt16();case "SHORT":return c.readInt16();case "ULONG":return c.readUInt32();case "LONG":return c.readInt32();
case "LONGDATETIME":c.skip(8)}};this._readStructure=function(a,c,e){for(var e=e||{},f=0;f<a.length;f++){var b=a[f],d;for(d in b)if(typeof b[d]=="object")switch(b[d].type){case "offset":var i=b[d].item,i=e[i],k=c.getPosition();c.seek(i+this._offset);this._readStructure(b[d].structure,c,e);this._len+=c.getPosition()-k;c.seek(k);break;case "records":e[d]=[];i=typeof b[d].numTables==="function"?b[d].numTables():e[b[d].numTables];for(k=0;k<i;k++)e[d][k]=this._readStructure(b[d].structure,c);break;case "condition":i=
b[d].item;i=typeof i==="function"?i():e[i];(b[d].condition=="=="&&i==b[d].value||b[d].condition==">"&&i>b[d].value)&&this._readStructure(b[d].structure,c,e);break;case "array":e[d]=[];if(b[d].countIndex<0)b[d].countIndex=e[b[d].count].length+b[d].countIndex;k=typeof b[d].count=="number"?b[d].count:typeof b[d].count=="function"?b[d].count(e):e[b[d].count][b[d].countIndex]+1||e[b[d].count];typeof b[d].countModify=="function"&&(k=b[d].countModify(k));for(i=0;i<k;i++)e[d][i]=this._readItem(b[d].itemType,
c);break;case "bitarray":e[d]=[];if(b[d].countIndex<0)b[d].countIndex=e[b[d].count].length+b[d].countIndex;k=e[b[d].count][b[d].countIndex]+1||e[b[d].count];for(i=0;i<k;i++){e[d][i]=[];for(var m=this._readItem(b[d].itemType,c),h=0;h<=7;h++)e[d][i][h]=m&1<<h?!0:!1}}else e[d]=typeof b[d]=="function"?b[d]().read.call(this,e,c,this):this._readItem(b[d],c)}return e};this.getCheckSum=function(){};this.readData=function(a,c){this._offset=c;this._len=0;a.seek(c);switch(typeof this._structure){case "object":this.data=
this._readStructure(this._structure,a)}if(this._records!==void 0){this.records=[];for(var e=0;e<this.data[this._records.numTables];e++)this.records[e]=this._readStructure(this._records.structure,a)}this._len+=a.getPosition()-c};this.toHex=function(a){return"0x"+a.toString(16).toUpperCase()};return this};
JSFONT.Writer=function(a){var c=new ArrayBuffer(a),e=new DataView(c);this.pos=0;this.writeItem=function(b,a){switch(b){case "Fixed":var c=a.split(".");f.call(this,parseInt(c[0],10));f.call(this,parseInt(c[1],10));break;case "BYTE":e.setUint8(this.pos,a);this.pos++;break;case "CHAR":e.setInt8(this.pos,a);this.pos++;break;case "USHORT":f.call(this,a);break;case "SHORT":e.setInt16(this.pos,a);this.pos+=2;break;case "UFWORD":f.call(this,a);break;case "FWORD":e.setInt16(this.pos,a);this.pos+=2;break;case "ULONG":e.setUint32(this.pos,
a);this.pos+=4;break;case "LONGDATETIME":this.skip(8)}};this.writeStructure=function(b,a){for(var c=a.data||a,e=0,f=b.length;e<f;e++){var h=b[e],g;for(g in h)if(typeof h[g]=="object")switch(h[g].type){case "offset":var j=h[g].item,j=c[j],l=this.pos;this.seek(j+this._offset);this.writeStructure(h[g].structure,c);this.seek(l);break;case "condition":j=h[g].item;j=typeof j==="function"?j():c[j];(h[g].condition=="=="&&j==h[g].value||h[g].condition==">"&&j>h[g].value)&&this.writeStructure(h[g].structure,
a);break;case "bitarray":j=c[h[g].count][h[g].countIndex]+1||c[h[g].count];for(l=0;l<j;l++){for(var o=0,n=0;n<=7;n++)c[g][l][n]&&(o=o|=1<<n);this.writeItem(h[g].itemType,o)}break;case "array":j=typeof h[g].count=="number"?h[g].count:typeof h[g].count=="function"?h[g].count(c):c[h[g].count][h[g].countIndex]+1||c[h[g].count];typeof h[g].countModify=="function"&&(j=h[g].countModify(j));for(l=0;l<j;l++)this.writeItem(h[g].itemType,c[g][l]);break;case "records":j=typeof h[g].numTables==="function"?h[g].numTables():
c[h[g].numTables];for(l=0;l<j;l++)this.writeStructure(h[g].structure,c[g][l])}else typeof h[g]=="function"?h[g]().write.call(a,this,c[g]):this.writeItem(h[g],c[g])}};this.seek=function(b){this.pos=b};this.skip=function(b){this.pos+=b};this.writeString=function(b){for(var a=0,c=b.length;a<c;a++){var f=b.charCodeAt(a);e.setUint8(this.pos,f);this.pos++}};var f=function(b){e.setUint16(this.pos,b);this.pos+=2};this.blob=function(){window.URL=window.URL||window.webkitURL;BlobBuilder=window.MozBlobBuilder||
window.WebKitBlobBuilder||window.BlobBuilder;var b=new BlobBuilder;b.append(c);return window.URL.createObjectURL(b.getBlob())};this.base64=function(){var b="",a=new Uint8Array(c),e=a.byteLength,f=e%3;e-=f;for(var m,h,g,j,l=0;l<e;l+=3)j=a[l]<<16|a[l+1]<<8|a[l+2],m=(j&16515072)>>18,h=(j&258048)>>12,g=(j&4032)>>6,j&=63,b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[h]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[j];f==1?(j=a[e],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(j&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(j&3)<<4]+"=="):f==2&&(j=a[e]<<8|a[e+1],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(j&64512)>>10]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(j&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(j&
15)<<2]+"=");return b}};JSFONT.MacGlyph=function(a){var c;this.MacIndex=a;c=a==0?null:a<=97?a+29:{98:196,99:197,100:199,101:201,102:209}[a];this.toString=function(){return String.fromCharCode(c)};return this};JSFONT.MacGlyph.prototype.write=function(a){for(var c=this.name.length,e=0;e<c;e++)a.writeItem("CHAR",this.name.charCodeAt(e))};JSFONT.PSGlyph=function(a){this.name=a;this.toString=function(){return this.name};return this};
JSFONT.PSGlyph.prototype.readData=function(a,c){for(var e=c._readItem("CHAR",a),f="",b=0;b<e;b++)f+=String.fromCharCode(c._readItem("CHAR",a));this.name=f};JSFONT.PSGlyph.prototype.write=function(a){var c=this.name.length;a.writeItem("CHAR",c);for(var e=0;e<c;e++)a.writeItem("CHAR",this.name.charCodeAt(e))};JSFONT.WGL4={0:0,3:32,4:33,5:34,6:35,7:36,8:37,9:38,10:39,11:40,12:41,13:42,14:43,15:44,16:45,17:46,18:47,19:48,20:49};
JSFONT.DSIGTable=function(){this._structure=[{ulVersion:"ULONG"},{usNumSigs:"USHORT"},{usFlag:"USHORT"},{signatures:{type:"records",numTables:"usNumSigs",structure:[{ulFormat:"ULONG",ulLength:"ULONG",ulOffset:"ULONG",offset1:{type:"offset",offset:"ulOffset",structure:[{usReserved1:"USHORT"},{usReserved2:"USHORT"},{cbSignature:"ULONG"},{bSignature:"BYTE"}]}}]}}];return this};JSFONT.DSIGTable.prototype=new JSFONT.Table;JSFONT.DSIGTable.prototype.constructor=JSFONT.DSIGTable;
JSFONT.FFTMTable=function(){this._structure=[{version:"ULONG"},{FontForgeCreation:"LONGDATETIME"},{sfdCreation:"LONGDATETIME"},{sfdModification:"LONGDATETIME"}];return this};JSFONT.FFTMTable.prototype=new JSFONT.Table;JSFONT.FFTMTable.prototype.constructor=JSFONT.FFTMTable;
JSFONT.GDEFTable=function(){this._structure=[{version:"ULONG"},{GlyphClassDef:"USHORT"},{AttachList:"USHORT"},{LigCaretList:"USHORT"},{MarkAttachClassDef:"USHORT"},{cond1:{type:"condition",condition:">",value:0,item:"GlyphClassDef",structure:[{offset1:{type:"offset",item:"GlyphClassDef",structure:[{baseGlyphFormat:"USHORT"},{cond1:{type:"condition",item:"baseGlyphFormat",value:2,condition:"==",structure:[{classRangeCount:"USHORT"},{classRangeRecords:{type:"records",numTables:"classRangeCount",structure:[{start:"USHORT"},
{end:"USHORT"},{Class:"USHORT"}]}}]}}]}},{cond2:{type:"condition",condition:">",value:0,item:"AttachList",structure:[{offset2:{type:"offset",item:"AttachList",structure:[{AttachListCoverage:"USHORT"},{GlyphCount:"USHORT"}]}}]}},{cond3:{type:"condition",condition:">",value:0,item:"LigCaretList",structure:[{offset2:{type:"offset",item:"LigCaretList",structure:[{LigCaretListCoverage:"USHORT"},{LigGlyphCount:"USHORT"}]}}]}}]}}];return this};JSFONT.GDEFTable.prototype=new JSFONT.Table;
JSFONT.GDEFTable.prototype.constructor=JSFONT.GDEFTable;
JSFONT.cmapTable=function(){var a=function(a){return a/2};this._structure=[{version:"USHORT"},{numTables:"USHORT"},{records:{type:"records",numTables:"numTables",structure:[{platformID:"USHORT"},{encodingID:"USHORT"},{offset:"ULONG"},{offset1:{type:"offset",item:"offset",structure:[{format:"USHORT"},{len:"USHORT"},{language:"USHORT"},{cond1:{type:"condition",item:"format",condition:"==",value:4,structure:[{segCountX2:"USHORT"},{searchRange:"USHORT"},{entrySelector:"USHORT"},{rangeShift:"USHORT"},
{endCount:{type:"array",count:"segCountX2",countModify:a,itemType:"USHORT"}},{reservedPad:"USHORT"},{startCount:{type:"array",count:"segCountX2",countModify:a,itemType:"USHORT"}},{idDelta:{type:"array",count:"segCountX2",countModify:a,itemType:"SHORT"}},{idRangeOffset:{type:"array",count:"segCountX2",countModify:a,itemType:"USHORT"}},{glyphIdArray:function(){return{read:function(a,e){for(var f=[],b=(a.len-(e.getPosition()-this._offset))/2,d=0;d<b;d++)f[d]=this._readItem("USHORT",e);return f},write:function(){}}}}]}},
{cond2:{type:"condition",item:"format",condition:"==",value:0,structure:[{glyphIdArray:{type:"array",count:256,itemType:"BYTE"}}]}},{cond3:{type:"condition",item:"format",condition:"==",value:6,structure:[{firstCode:"USHORT"},{entryCount:"USHORT"},{glyphIdArray:{type:"array",count:"entryCount",itemType:"USHORT"}}]}}]}}]}}];return this};JSFONT.cmapTable.prototype=new JSFONT.Table;JSFONT.cmapTable.prototype.constructor=JSFONT.cmapTable;
JSFONT.cvtTable=function(){this._structure=[{controls:{type:"array",itemType:"FWORD",count:function(){return 29}}}];return this};JSFONT.cvtTable.prototype=new JSFONT.Table;JSFONT.cvtTable.prototype.constructor=JSFONT.cvtTable;JSFONT.fpgmTable=function(){this._structure=[{controls:{type:"array",itemType:"BYTE",count:function(){return 613}}}];return this};JSFONT.fpgmTable.prototype=new JSFONT.Table;JSFONT.fpgmTable.prototype.constructor=JSFONT.fpgmTable;
JSFONT.gaspTable=function(){this._structure=[{version:"USHORT"},{numRanges:"USHORT"},{gaspRanges:{type:"records",numTables:"numRanges",structure:[{rangeMaxPPEM:"USHORT"},{rangeGaspBehavior:"USHORT"}]}}];return this};JSFONT.gaspTable.prototype=new JSFONT.Table;JSFONT.gaspTable.prototype.constructor=JSFONT.gaspTable;JSFONT.glyfTable=function(){};JSFONT.glyfTable.prototype=new JSFONT.Table;
JSFONT.Glyph=function(){this._structure=[{numberOfContours:"SHORT"},{cond1:{type:"condition",item:"numberOfContours",condition:">",value:0,structure:[{xMin:"SHORT"},{yMin:"SHORT"},{xMax:"SHORT"},{yMax:"SHORT"},{endPtsOfContours:{type:"array",count:"numberOfContours",itemType:"USHORT"}},{instructionLength:"USHORT"},{instructions:{type:"array",count:"instructionLength",itemType:"BYTE"}},{flags:function(){return{read:function(a,c,e){for(var f=[],a=a.endPtsOfContours[a.endPtsOfContours.length-1],b=0;b<=
a;b++){f[b]=[];for(var d=e._readItem("BYTE",c),i=0;i<=7;i++)f[b][i]=d&1<<i?!0:!1;if(f[b][3]){d=e._readItem("BYTE",c);i=f[b];f[b][3]=d;for(var k=0;k<d;k++)f[b+1]=i,b++}}return f},write:function(a){for(var c=this.data,e=c.endPtsOfContours[c.endPtsOfContours.length-1],f=0;f<=e;f++){for(var b=0,d=0;d<=7;d++)c.flags[f][d]!==!1&&(b=b|=1<<d);a.writeItem("BYTE",b);c.flags[f][3]!==!1&&(a.writeItem("BYTE",c.flags[f][3]),f+=c.flags[f][3])}}}}},{xCoordinates:function(){return{read:function(a,c,e){for(var f=[],
b=a.endPtsOfContours[a.endPtsOfContours.length-1],d=0;d<=b;d++)a.flags[d][4]&&!a.flags[d][1]?f[d]=0:a.flags[d][1]?(f[d]=e._readItem("BYTE",c),a.flags[d][4]||(f[d]=-f[d])):f[d]=e._readItem("SHORT",c);return f},write:function(a){for(var c=this.data,e=c.endPtsOfContours[c.endPtsOfContours.length-1],f=0;f<=e;f++)if(!c.flags[f][4]||c.flags[f][1])c.flags[f][1]?c.flags[f][4]?a.writeItem("BYTE",c.xCoordinates[f]):a.writeItem("BYTE",-c.xCoordinates[f]):a.writeItem("SHORT",c.xCoordinates[f])}}}},{yCoordinates:function(){return{read:function(a,
c,e){for(var f=[],b=a.endPtsOfContours[a.endPtsOfContours.length-1],d=0;d<=b;d++)a.flags[d][5]&&!a.flags[d][2]?f[d]=0:a.flags[d][2]?(f[d]=e._readItem("BYTE",c),a.flags[d][5]||(f[d]=-f[d])):f[d]=e._readItem("SHORT",c);return f},write:function(a){for(var c=this.data,e=c.endPtsOfContours[c.endPtsOfContours.length-1],f=0;f<=e;f++)if(!c.flags[f][5]||c.flags[f][2])c.flags[f][2]?c.flags[f][5]?a.writeItem("BYTE",c.yCoordinates[f]):a.writeItem("BYTE",-c.yCoordinates[f]):a.writeItem("SHORT",c.yCoordinates[f])}}}}]}},
{cond1:{type:"condition",item:"numberOfContours",condition:"==",value:-1,structure:[{flags:"USHORT"},{glyphIndex:"USHORT"}]}}];return this};JSFONT.Glyph.prototype=new JSFONT.Table;JSFONT.Glyph.prototype.constructor=JSFONT.Glyph;
JSFONT.hdmxTable=function(a){this._structure=[{version:"USHORT"},{numRecords:"USHORT"},{sizeDeviceRecord:"LONG"}];this._records={numTables:"numRecords",structure:[{pixelSize:"BYTE"},{maxWidth:"BYTE"},{widths:{type:"array",count:function(){return a.tables.maxp.data.numGlyphs},itemType:"BYTE"}}]};return this};JSFONT.hdmxTable.prototype=new JSFONT.Table;JSFONT.hdmxTable.prototype.constructor=JSFONT.hdmxTable;
JSFONT.headTable=function(){this._structure=[{version:"Fixed"},{revision:"Fixed"},{checkSumAdjustment:"ULONG"},{magicNumber:"ULONG"},{flags:"USHORT"},{unitsPerEm:"USHORT"},{created:"LONGDATETIME"},{modified:"LONGDATETIME"},{xMin:"SHORT"},{yMin:"SHORT"},{xMax:"SHORT"},{yMax:"SHORT"},{macStyle:"USHORT"},{lowestRecPPEM:"USHORT"},{fontDirectionHint:"SHORT"},{indexToLocFormat:"SHORT"},{glyphDataFormat:"SHORT"}];return this};JSFONT.headTable.prototype=new JSFONT.Table;
JSFONT.headTable.prototype.constructor=JSFONT.headTable;JSFONT.hheaTable=function(){this._structure=[{version:"Fixed"},{Ascender:"FWORD"},{Descender:"FWORD"},{LineGap:"FWORD"},{advancedWidthMax:"UFWORD"},{minLeftSideBearing:"FWORD"},{minRightSideBearing:"FWORD"},{xMaxExtent:"FWORD"},{caretSlopeRise:"SHORT"},{caretSlopeRun:"SHORT"},{caretOffset:"SHORT"},{reserved1:"SHORT"},{reserved2:"SHORT"},{reserved3:"SHORT"},{reserved4:"SHORT"},{metricDataFormat:"SHORT"},{numberOfHMetrics:"USHORT"}];return this};
JSFONT.hheaTable.prototype=new JSFONT.Table;JSFONT.hheaTable.prototype.constructor=JSFONT.hheaTable;JSFONT.hmtxTable=function(a){this._structure=[{records:{type:"records",numTables:function(){return a.tables.hhea.data.numberOfHMetrics},structure:[{hMetrics:"USHORT",leftSideBearing:"SHORT"}]}},{leftSideBearing:{type:"array",count:function(){return a.tables.maxp.data.numGlyphs-a.tables.hhea.data.numberOfHMetrics},itemType:"USHORT"}}];this.data={};return this};JSFONT.hmtxTable.prototype=new JSFONT.Table;
JSFONT.hmtxTable.prototype.constructor=JSFONT.hmtxTable;
JSFONT.kernTable=function(){this._structure=[{version:"USHORT"},{nTables:"USHORT"},{subTables:{type:"records",numTables:"nTables",structure:[{version:"USHORT"},{length:"USHORT"},{coverage:"USHORT"},{cond1:{type:"condition",item:"version",condition:"==",value:0,structure:[{nPairs:"USHORT"},{searchRange:"USHORT"},{entrySelector:"USHORT"},{rangeShift:"USHORT"},{kerningPairs:{type:"records",numTables:"nPairs",structure:[{left:"USHORT"},{right:"USHORT"},{value:"FWORD"}]}}]}}]}}];return this};
JSFONT.kernTable.prototype=new JSFONT.Table;JSFONT.kernTable.prototype.constructor=JSFONT.kernTable;
JSFONT.locaTable=function(a){this._structure=[{cond1:{type:"condition",condition:"==",item:function(){return a.tables.head.data.indexToLocFormat},value:1,structure:[{offsets:{type:"array",count:function(){return a.tables.maxp.data.numGlyphs+1},itemType:"ULONG"}}]}},{cond1:{type:"condition",condition:"==",item:function(){return a.tables.head.data.indexToLocFormat},value:0,structure:[{offsets:{type:"array",count:function(){return a.tables.maxp.data.numGlyphs+1},itemType:"USHORT"}}]}}];return this};
JSFONT.locaTable.prototype=new JSFONT.Table;
JSFONT.maxpTable=function(){this._structure=[{version:"Fixed"},{numGlyphs:"USHORT"},{cond1:{type:"condition",item:"version",condition:"==",value:"1.0",structure:[{maxPoints:"USHORT"},{maxContours:"USHORT"},{maxCompositePoints:"USHORT"},{maxCompositeContours:"USHORT"},{maxZones:"USHORT"},{maxTwilightPoints:"USHORT"},{maxStorage:"USHORT"},{maxFunctionDefs:"USHORT"},{maxInstructionDefs:"USHORT"},{maxStackElements:"USHORT"},{maxSizeOfInstructions:"USHORT"},{maxComponentElements:"USHORT"},{maxComponentDepth:"USHORT"}]}}];
this._hex=[];return this};JSFONT.maxpTable.prototype=new JSFONT.Table;JSFONT.maxpTable.prototype.constructor=JSFONT.maxpTable;JSFONT.nameTable=function(){this._structure=[{format:"USHORT"},{count:"USHORT"},{stringOffset:"USHORT"},{nameRecord:{type:"records",numTables:"count",structure:[{platformID:"USHORT"},{encodingID:"USHORT"},{languageID:"USHORT"},{nameID:"USHORT"},{len:"USHORT"},{offset:"USHORT"}]}}];this._hex=[];return this};JSFONT.nameTable.prototype=new JSFONT.Table;
JSFONT.nameTable.prototype.constructor=JSFONT.nameTable;
JSFONT.OS2Table=function(){this._structure=[{version:"USHORT"},{xAvgCharWidth:"SHORT"},{usWeightClass:"USHORT"},{usWidthClass:"USHORT"},{fsType:"USHORT"},{ySubscriptXSize:"SHORT"},{ySubscriptYSize:"SHORT"},{ySubscriptXOffset:"SHORT"},{ySubscriptYOffset:"SHORT"},{ySuperscriptXSize:"SHORT"},{ySuperscriptYSize:"SHORT"},{ySuperscriptXOffset:"SHORT"},{ySuperscriptYOffset:"SHORT"},{yStrikeoutSize:"SHORT"},{yStrikeoutPosition:"SHORT"},{sFamilyClass:"SHORT"},{panose1:"BYTE"},{panose2:"BYTE"},{panose3:"BYTE"},
{panose4:"BYTE"},{panose5:"BYTE"},{panose6:"BYTE"},{panose7:"BYTE"},{panose8:"BYTE"},{panose9:"BYTE"},{panose10:"BYTE"},{ulUnicodeRange1:"ULONG"},{ulUnicodeRange2:"ULONG"},{ulUnicodeRange3:"ULONG"},{ulUnicodeRange4:"ULONG"},{achVendID1:"CHAR"},{achVendID2:"CHAR"},{achVendID3:"CHAR"},{achVendID4:"CHAR"},{fsSelection:"USHORT"},{usFirstCharIndex:"USHORT"},{usLastCharIndex:"USHORT"},{sTypoAscender:"SHORT"},{sTypoDescender:"SHORT"},{sTypoLineGap:"SHORT"},{usWinAscent:"USHORT"},{usWinDescent:"USHORT"},
{ulCodePageRange1:"ULONG"},{ulCodePageRange2:"ULONG"},{cond1:{type:"condition",item:"version",condition:">",value:1,structure:[{sxHeight:"SHORT"},{sCapHeight:"SHORT"},{usDefaultChar:"USHORT"},{usBreakChar:"USHORT"},{usMaxContext:"USHORT"}]}}];this.data={};return this};JSFONT.OS2Table.prototype=new JSFONT.Table;JSFONT.OS2Table.prototype.constructor=JSFONT.OS2Table;
JSFONT.postTable=function(){this._structure=[{version:"Fixed"},{italicAngle:"Fixed"},{underlinePosition:"SHORT"},{underlineThickness:"SHORT"},{isFixedPitch:"ULONG"},{minMemType42:"ULONG"},{maxMemType42:"ULONG"},{minMemType1:"ULONG"},{maxMemType1:"ULONG"},{cond1:{type:"condition",item:"version",condition:"==",value:"2.0",structure:[{numberOfGlyphs:"USHORT"},{glyphNameIndex:{type:"array",count:"numberOfGlyphs",itemType:"USHORT"}},{names:function(){return{read:function(a,c,e){for(var f=[],b=0;b<=a.numberOfGlyphs;b++)a.glyphNameIndex[b]<=
257?f[b]=new JSFONT.MacGlyph(a.glyphNameIndex[b]):(f[b]=new JSFONT.PSGlyph,f[b].readData(c,e));return f},write:function(a){for(var c=this.data,e=0;e<=c.numberOfGlyphs;e++)c.glyphNameIndex[e]<=257||c.names[e].write(a)}}}}]}}];return this};JSFONT.postTable.prototype=new JSFONT.Table;JSFONT.postTable.prototype.constructor=JSFONT.postTable;JSFONT.prepTable=function(){this._structure=[{controls:{type:"array",itemType:"BYTE",count:function(){return 108}}}];return this};JSFONT.prepTable.prototype=new JSFONT.Table;
JSFONT.prepTable.prototype.constructor=JSFONT.prepTable;
